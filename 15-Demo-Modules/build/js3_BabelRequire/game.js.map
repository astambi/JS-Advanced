{"version":3,"sources":["../../js3_BabelRequire/game.js"],"names":["player","scoreboard","factorElement","document","getElementById","problemsPerGame","printGame","logPlayer","setProblemCount","value","gameForm","i","gameElement","innerHTML","removeAttribute","calculateScore","problemsInGame","getProblemCount","score","answer","result","name","getName","problems","factor","addResult","updateScoreboard","setAttribute","newProblemCount"],"mappings":";;;;;;;;QAEYA,M;;QACAC,U;;;;;;;;;;;;;;;;;;;AAAyD;;AAErE;AALA;;AAMA,QAAIC,gBAAgBC,SAASC,cAAT,CAAwB,QAAxB,CAApB,C,CAJqE;;AAKrE,QAAIC,kBAAkB,CAAtB,C,CAAyB;;AAEzB,aAASC,SAAT,GAAqB;;AAEjBN,eAAOO,SAAP,GAFiB,CAEG;;AAEpB;AACAC,wBAAgBL,SAASC,cAAT,CAAwB,cAAxB,EAAwCK,KAAxD;;AAEA;AACA,YAAIC,WAAW,EAAf;AACA,aAAK,IAAIC,IAAI,CAAb,EAAgBA,KAAKN,eAArB,EAAsCM,GAAtC,EAA2C;AACvCD,wBAAa,0BAAb;AACAA,wBAAa,sBAAoBC,CAAE,oCAAnC;AACAD,wBAAa,IAAER,cAAcO,KAAM,QAAKE,CAAE,cAA1C;AACAD,wBAAa,4EAA0EC,CAAE,KAAzF;AACAD,wBAAa,QAAb;AACH;;AAED;AACA,YAAIE,cAAcT,SAASC,cAAT,CAAwB,MAAxB,CAAlB;AACAQ,oBAAYC,SAAZ,GAAwBH,QAAxB;;AAEA;AACAP,iBAASC,cAAT,CAAwB,WAAxB,EAAqCU,eAArC,CAAqD,UAArD;AACH;;AAED,aAASC,cAAT,GAA0B;;AAEtB,YAAIC,iBAAiBC,iBAArB;AACA,YAAIC,QAAQ,CAAZ;;AAEA;AACA,aAAK,IAAIP,IAAI,CAAb,EAAgBA,KAAKK,cAArB,EAAqCL,GAArC,EAA0C;AACtC,gBAAIQ,SAAShB,SAASC,cAAT,CAAyB,UAAQO,CAAE,GAAnC,EAAsCF,KAAnD;AACA,gBAAIE,IAAIT,cAAcO,KAAlB,IAA2BU,MAA/B,EAAuC;AACnCD;AACH;AACJ;;AAED;AACA,YAAIE,SAAS;AACTC,kBAAMrB,OAAOsB,OAAP,EADG,EACe;AACxBJ,mBAAOA,KAFE;AAGTK,sBAAUP,cAHD;AAITQ,oBAAQtB,cAAcO;AAJb,SAAb;;AAOA;AACAR,mBAAWwB,SAAX,CAAqBL,MAArB,EAtBsB,CAsBQ;AAC9BnB,mBAAWyB,gBAAX,GAvBsB,CAuBS;;AAE/B;AACAvB,iBAASC,cAAT,CAAwB,WAAxB,EAAqCuB,YAArC,CAAkD,UAAlD,EAA8D,MAA9D;AACH;;AAED,aAASnB,eAAT,CAAyBoB,eAAzB,EAA0C;AACtCvB,0BAAkBuB,eAAlB;AACH;;AAED,aAASX,eAAT,GAA2B;AACvB,eAAOZ,eAAP;AACH;;YAGGC,S,GAAAA,S;YACAS,c,GAAAA,c;YACAP,e,GAAAA,e;YACAS,e,GAAAA,e","file":"game.js","sourcesContent":["// NB path in imports => path to Babel working directory\r\n\r\nimport * as player from 'build/js3_BabelRequire/player.js';          // NB path Babel dir\r\nimport * as scoreboard from 'build/js3_BabelRequire/scoreboard.js';  // NB path Babel dir\r\n\r\n// private members\r\nlet factorElement = document.getElementById('factor');\r\nlet problemsPerGame = 3; // set default value\r\n\r\nfunction printGame() {\r\n\r\n    player.logPlayer(); // player.\r\n\r\n    // determine the number of problems to show\r\n    setProblemCount(document.getElementById('problemCount').value);\r\n\r\n    // create the html for the current game\r\n    let gameForm = '';\r\n    for (let i = 1; i <= problemsPerGame; i++) {\r\n        gameForm += `<div class=\"form-group\">`;\r\n        gameForm += `<label for=\"answer${i}\" class=\"col-sm-2 control-label\">`;\r\n        gameForm += `${factorElement.value} x ${i} = </label>`;\r\n        gameForm += `<div class=\"col-sm-1\"><input type=\"text\" class=\"form-control\" id=\"answer${i}\">`;\r\n        gameForm += `</div>`;\r\n    }\r\n\r\n    // add the new game to the page\r\n    let gameElement = document.getElementById('game');\r\n    gameElement.innerHTML = gameForm;\r\n\r\n    // enable the calculate score button\r\n    document.getElementById('calculate').removeAttribute('disabled');\r\n}\r\n\r\nfunction calculateScore() {\r\n\r\n    let problemsInGame = getProblemCount();\r\n    let score = 0;\r\n\r\n    // loop trough the text boxes and calculate the number that are correct\r\n    for (let i = 1; i <= problemsInGame; i++) {\r\n        let answer = document.getElementById(`answer${i}`).value;\r\n        if (i * factorElement.value == answer) {\r\n            score++;\r\n        }\r\n    }\r\n\r\n    //create a new result object to pass to the scoreboard\r\n    let result = {\r\n        name: player.getName(), // player.\r\n        score: score,\r\n        problems: problemsInGame,\r\n        factor: factorElement.value\r\n    };\r\n\r\n    // add the result and update the scoreboard\r\n    scoreboard.addResult(result); //scoreboard.\r\n    scoreboard.updateScoreboard(); //scoreboard.\r\n\r\n    // disable calculate score button\r\n    document.getElementById('calculate').setAttribute('disabled', 'true');\r\n}\r\n\r\nfunction setProblemCount(newProblemCount) {\r\n    problemsPerGame = newProblemCount;\r\n}\r\n\r\nfunction getProblemCount() {\r\n    return problemsPerGame;\r\n}\r\n\r\nexport {\r\n    printGame,\r\n    calculateScore,\r\n    setProblemCount,\r\n    getProblemCount\r\n}"]}