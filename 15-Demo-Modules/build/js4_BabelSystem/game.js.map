{"version":3,"sources":["../../js4_BabelSystem/game.js"],"names":["player","scoreboard","factorElement","document","getElementById","problemsPerGame","printGame","logPlayer","setProblemCount","value","gameForm","i","gameElement","innerHTML","removeAttribute","calculateScore","problemsInGame","getProblemCount","score","answer","result","name","getName","problems","factor","addResult","updateScoreboard","setAttribute","newProblemCount"],"mappings":";;;;;;;AAEA;;IAAYA,M;;AACZ;;IAAYC,U;;;;AAAwD;;AAEpE;AALA;;AAMA,IAAIC,gBAAgBC,SAASC,cAAT,CAAwB,QAAxB,CAApB,C,CAJoE;;AAKpE,IAAIC,kBAAkB,CAAtB,C,CAAyB;;AAEzB,SAASC,SAAT,GAAqB;;AAEjBN,WAAOO,SAAP,GAFiB,CAEG;;AAEpB;AACAC,oBAAgBL,SAASC,cAAT,CAAwB,cAAxB,EAAwCK,KAAxD;;AAEA;AACA,QAAIC,WAAW,EAAf;AACA,SAAK,IAAIC,IAAI,CAAb,EAAgBA,KAAKN,eAArB,EAAsCM,GAAtC,EAA2C;AACvCD,oBAAa,0BAAb;AACAA,oBAAa,sBAAoBC,CAAE,oCAAnC;AACAD,oBAAa,IAAER,cAAcO,KAAM,QAAKE,CAAE,cAA1C;AACAD,oBAAa,4EAA0EC,CAAE,KAAzF;AACAD,oBAAa,QAAb;AACH;;AAED;AACA,QAAIE,cAAcT,SAASC,cAAT,CAAwB,MAAxB,CAAlB;AACAQ,gBAAYC,SAAZ,GAAwBH,QAAxB;;AAEA;AACAP,aAASC,cAAT,CAAwB,WAAxB,EAAqCU,eAArC,CAAqD,UAArD;AACH;;AAED,SAASC,cAAT,GAA0B;;AAEtB,QAAIC,iBAAiBC,iBAArB;AACA,QAAIC,QAAQ,CAAZ;;AAEA;AACA,SAAK,IAAIP,IAAI,CAAb,EAAgBA,KAAKK,cAArB,EAAqCL,GAArC,EAA0C;AACtC,YAAIQ,SAAShB,SAASC,cAAT,CAAyB,UAAQO,CAAE,GAAnC,EAAsCF,KAAnD;AACA,YAAIE,IAAIT,cAAcO,KAAlB,IAA2BU,MAA/B,EAAuC;AACnCD;AACH;AACJ;;AAED;AACA,QAAIE,SAAS;AACTC,cAAMrB,OAAOsB,OAAP,EADG,EACe;AACxBJ,eAAOA,KAFE;AAGTK,kBAAUP,cAHD;AAITQ,gBAAQtB,cAAcO;AAJb,KAAb;;AAOA;AACAR,eAAWwB,SAAX,CAAqBL,MAArB,EAtBsB,CAsBQ;AAC9BnB,eAAWyB,gBAAX,GAvBsB,CAuBS;;AAE/B;AACAvB,aAASC,cAAT,CAAwB,WAAxB,EAAqCuB,YAArC,CAAkD,UAAlD,EAA8D,MAA9D;AACH;;AAED,SAASnB,eAAT,CAAyBoB,eAAzB,EAA0C;AACtCvB,sBAAkBuB,eAAlB;AACH;;AAED,SAASX,eAAT,GAA2B;AACvB,WAAOZ,eAAP;AACH;;QAGGC,S,GAAAA,S;QACAS,c,GAAAA,c;QACAP,e,GAAAA,e;QACAS,e,GAAAA,e","file":"game.js","sourcesContent":["// NB path in imports => path to Babel working directory\r\n\r\nimport * as player from 'build/js4_BabelSystem/player.js';          // NB path Babel dir\r\nimport * as scoreboard from 'build/js4_BabelSystem/scoreboard.js';  // NB path Babel dir\r\n\r\n// private members\r\nlet factorElement = document.getElementById('factor');\r\nlet problemsPerGame = 3; // set default value\r\n\r\nfunction printGame() {\r\n\r\n    player.logPlayer(); // player.\r\n\r\n    // determine the number of problems to show\r\n    setProblemCount(document.getElementById('problemCount').value);\r\n\r\n    // create the html for the current game\r\n    let gameForm = '';\r\n    for (let i = 1; i <= problemsPerGame; i++) {\r\n        gameForm += `<div class=\"form-group\">`;\r\n        gameForm += `<label for=\"answer${i}\" class=\"col-sm-2 control-label\">`;\r\n        gameForm += `${factorElement.value} x ${i} = </label>`;\r\n        gameForm += `<div class=\"col-sm-1\"><input type=\"text\" class=\"form-control\" id=\"answer${i}\">`;\r\n        gameForm += `</div>`;\r\n    }\r\n\r\n    // add the new game to the page\r\n    let gameElement = document.getElementById('game');\r\n    gameElement.innerHTML = gameForm;\r\n\r\n    // enable the calculate score button\r\n    document.getElementById('calculate').removeAttribute('disabled');\r\n}\r\n\r\nfunction calculateScore() {\r\n\r\n    let problemsInGame = getProblemCount();\r\n    let score = 0;\r\n\r\n    // loop trough the text boxes and calculate the number that are correct\r\n    for (let i = 1; i <= problemsInGame; i++) {\r\n        let answer = document.getElementById(`answer${i}`).value;\r\n        if (i * factorElement.value == answer) {\r\n            score++;\r\n        }\r\n    }\r\n\r\n    //create a new result object to pass to the scoreboard\r\n    let result = {\r\n        name: player.getName(), // player.\r\n        score: score,\r\n        problems: problemsInGame,\r\n        factor: factorElement.value\r\n    };\r\n\r\n    // add the result and update the scoreboard\r\n    scoreboard.addResult(result); //scoreboard.\r\n    scoreboard.updateScoreboard(); //scoreboard.\r\n\r\n    // disable calculate score button\r\n    document.getElementById('calculate').setAttribute('disabled', 'true');\r\n}\r\n\r\nfunction setProblemCount(newProblemCount) {\r\n    problemsPerGame = newProblemCount;\r\n}\r\n\r\nfunction getProblemCount() {\r\n    return problemsPerGame;\r\n}\r\n\r\nexport {\r\n    printGame,\r\n    calculateScore,\r\n    setProblemCount,\r\n    getProblemCount\r\n}\r\n\r\n"]}